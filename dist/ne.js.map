{"version":3,"file":"ne.js","sources":["ne.js","tools.js","gl.js","Loader.js","Color.js","Pixmap.js","Drawable.js"],"names":["window","ne","tools","gl","$","textureFromCanvas","canvas","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","Loader","_cache","audio","pixmaps","json","fonts","name","url","this","clearPixmaps","clearAudio","clearJson","Color","r","g","b","a","arguments","length","undefined","set","alpha","red","green","blue","h","s","max","Math","min","l","d","avg","args","_Math","apply","_Math2","_r","value","_g","_b","_a","toHsl","hsla","toHsla","c","fromHsla","hue","saturation","luminance","p","q","t","_hue2rgb","round","rgba","rgb","argb","_hsla","_hslToRgb","hsl","_hsl","Pixmap","Pixmal","_canvas","document","createElement","_context","getContext","img","sx","sy","sw","sh","dx","dy","dw","dh","width","height","drawImage","bmp","_bltImage","from","to","color","pixmap","Drawable","_parent","z","renderer","delta","_z","parent","zUpdate"],"mappings":"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","sourcesContent":["window.ne = {};\r\n","window.ne.tools = {};\r\n","\r\nne.tools.gl = (function () {\r\n\r\n  var $ = {};\r\n\r\n  $.textureFromCanvas = function (gl, canvas) {\r\n    var texture = gl.createTexture();\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, canvas);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n    return texture;\r\n  }\r\n\r\n  return $;\r\n\r\n})();\r\n","\r\nne.Loader = (function () {\r\n\r\n  var _cache = {\r\n    audio:    {},\r\n    pixmaps:  {},\r\n    json:     {},\r\n    fonts:    {}\r\n  };\r\n\r\n  return class Loader {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    loadPixmaps(name, url) {\r\n      if (typeof _cache.pixmaps[name] == 'undefined') {\r\n\r\n      }\r\n      return this;\r\n    }\r\n\r\n    loadAudio(name, url) {\r\n      if (typeof _cache.audio[name] == 'undefined') {\r\n\r\n      }\r\n      return this;\r\n    }\r\n\r\n    loadJson(name, url) {\r\n      if (typeof _cache.json[name] == 'undefined') {\r\n\r\n      }\r\n      return this;\r\n    }\r\n\r\n    loadFont(name, url) {\r\n      if (typeof _cache.fonts[name] == 'undefined') {\r\n\r\n      }\r\n      return this;\r\n    }\r\n\r\n    pixmap(name) {\r\n\r\n    }\r\n\r\n    audio(name) {\r\n\r\n    }\r\n\r\n    json(name) {\r\n\r\n    }\r\n\r\n    font(name) {\r\n\r\n    }\r\n\r\n    static clear() {\r\n      this.clearPixmaps();\r\n      this.clearAudio();\r\n      this.clearJson();\r\n    }\r\n\r\n    static clearPixmaps() {\r\n\r\n    }\r\n\r\n    static clearAudio() {\r\n\r\n    }\r\n\r\n    static clearJson() {\r\n\r\n    }\r\n\r\n  };\r\n\r\n})();\r\n","\r\nne.Color = (function () {\r\n\r\n  return class Color {\r\n\r\n    constructor(r, g, b, a=255) {\r\n      this.set(r, g, b, a);\r\n    }\r\n\r\n    static _hue2rgb(p, q, t){\r\n        if(t < 0) t += 1;\r\n        if(t > 1) t -= 1;\r\n        if(t < 1/6) return p + (q - p) * 6 * t;\r\n        if(t < 1/2) return q;\r\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n        return p;\r\n    }\r\n\r\n    static _hslToRgb(h, s, l, a) {\r\n      var r, g, b;\r\n\r\n      if(s == 0){\r\n        r = g = b = l; // achromatic\r\n      } else {\r\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = this._hue2rgb(p, q, h + 1/3);\r\n        g = this._hue2rgb(p, q, h);\r\n        b = this._hue2rgb(p, q, h - 1/3);\r\n      }\r\n      return new Color(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), a);\r\n    }\r\n\r\n    static fromRgba(rgba) {\r\n      var r = (rgba >> 24) && 0xFF;\r\n      var g = (rgba >> 16) && 0xFF;\r\n      var b = (rgba >>  8) && 0xFF;\r\n      var a = (rgba >>  0) && 0xFF;\r\n      return new Color(r, g, b, a);\r\n    }\r\n\r\n    static fromRgb(rgb) {\r\n      var r = (rgba >> 16) && 0xFF;\r\n      var g = (rgba >>  8) && 0xFF;\r\n      var b = (rgba >>  0) && 0xFF;\r\n      return new Color(r, g, b);\r\n    }\r\n\r\n    static fromArgb(argb) {\r\n      var a = (rgba >> 24) && 0xFF;\r\n      var r = (rgba >> 16) && 0xFF;\r\n      var g = (rgba >>  8) && 0xFF;\r\n      var b = (rgba >>  0) && 0xFF;\r\n      return new Color(r, g, b, a);\r\n    }\r\n\r\n    static fromHsla(hsla) {\r\n      var [h, s, l, a] = hsla;\r\n      return this._hslToRgb(h, s, l, a);\r\n    }\r\n\r\n    static fromHsl(hsl) {\r\n      var [h, s, l] = hsl;\r\n      return this._hslToRgb(h, s, l, 255);\r\n    }\r\n\r\n    set(r, g, b, a=undefined) {\r\n      if (typeof a == 'undefined') a = this.alpha;\r\n      this.red = r;\r\n      this.green = g;\r\n      this.blue = b;\r\n      this.alpha = a;\r\n      return this;\r\n    }\r\n\r\n    clone() {\r\n      return new Color(this.red, this.green, this.blue, this.alpha);\r\n    }\r\n\r\n    get red() {\r\n      return this._r;\r\n    }\r\n\r\n    get green() {\r\n      return this._g;\r\n    }\r\n\r\n    get blue() {\r\n      return this._b;\r\n    }\r\n\r\n    get alpha() {\r\n      return this._a;\r\n    }\r\n\r\n    set red(value) {\r\n      this._r = Math.max(0, Math.min(255, value));\r\n    }\r\n\r\n    set green(value) {\r\n      this._g = Math.max(0, Math.min(255, value));\r\n    }\r\n\r\n    set blue(value) {\r\n      this._b = Math.max(0, Math.min(255, value));\r\n    }\r\n\r\n    set alpha(value) {\r\n      this._a = Math.max(0, Math.min(255, value));\r\n    }\r\n\r\n    get r() {\r\n      return this.red;\r\n    }\r\n\r\n    get g() {\r\n      return this.green;\r\n    }\r\n\r\n    get b() {\r\n      return this.blue;\r\n    }\r\n\r\n    get a() {\r\n      this.alpha;\r\n    }\r\n\r\n    set r(value) {\r\n      this.red = value;\r\n    }\r\n\r\n    set g(value) {\r\n      this.green = value;\r\n    }\r\n\r\n    set b(value) {\r\n      this.blue = value;\r\n    }\r\n\r\n    set a(value) {\r\n      this.alpha = value;\r\n    }\r\n\r\n    get hue() {\r\n      return this.toHsl()[0];\r\n    }\r\n\r\n    set hue(value) {\r\n      var hsla = this.toHsla();\r\n      hsla[0] = value;\r\n      var c = Color.fromHsla(hsla);\r\n      this.set(c.red, c.green, c.blue, c.alpha);\r\n    }\r\n\r\n    get saturation() {\r\n      return this.toHsl()[1];\r\n    }\r\n\r\n    set saturation(value) {\r\n      var hsla = this.toHsla();\r\n      hsla[1] = value;\r\n      var c = Color.fromHsla(hsla);\r\n      this.set(c.red, c.green, c.blue, c.alpha);\r\n    }\r\n\r\n    get luminance() {\r\n      return this.toHsl()[2];\r\n    }\r\n\r\n    set luminance(value) {\r\n      var hsla = this.toHsla();\r\n      hsla[2] = value;\r\n      var c = Color.fromHsla(hsla);\r\n      this.set(c.red, c.green, c.blue, c.alpha);\r\n    }\r\n\r\n    get h() {\r\n      return this.hue;\r\n    }\r\n\r\n    set h(value) {\r\n      this.hue = value;\r\n    }\r\n\r\n    get s() {\r\n      return this.saturation;\r\n    }\r\n\r\n    set s(value) {\r\n      this.saturation = value;\r\n    }\r\n\r\n    get l() {\r\n      return this.luminance;\r\n    }\r\n\r\n    set l(value) {\r\n      this.luminance = value;\r\n    }\r\n\r\n    toCss() {\r\n      var a = this.alpha / 255;\r\n      return `rgba(${this.red}, ${this.green}, ${this.blue}, ${a})`;\r\n    }\r\n\r\n    toArgb() {\r\n      return this.alpha << 24 + this.red << 16 + this.green << 8 + this.blue;\r\n    }\r\n\r\n    toRgba() {\r\n      return this.red << 24 + this.green << 16 + this.blue << 8 + this.alpha;\r\n    }\r\n\r\n    toRgb() {\r\n      return this.red << 16 + this.green << 8 + this.blue;\r\n    }\r\n\r\n    toHsla() {\r\n       var r = this.red / 255, g = this.green / 255, b = this.blue / 255;\r\n       var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n       var h, s, l = (max + min) / 2;\r\n\r\n       if(max == min){\r\n           h = s = 0; // achromatic\r\n       }else{\r\n           var d = max - min;\r\n           s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n           switch(max){\r\n               case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n               case g: h = (b - r) / d + 2; break;\r\n               case b: h = (r - g) / d + 4; break;\r\n           }\r\n           h /= 6;\r\n       }\r\n\r\n       return [h, s, l, this.alpha];\r\n    }\r\n\r\n    toHsl() {\r\n       var r = this.red / 255, g = this.green / 255, b = this.blue / 255;\r\n       var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n       var h, s, l = (max + min) / 2;\r\n\r\n       if(max == min){\r\n           h = s = 0; // achromatic\r\n       }else{\r\n           var d = max - min;\r\n           s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n           switch(max){\r\n               case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n               case g: h = (b - r) / d + 2; break;\r\n               case b: h = (r - g) / d + 4; break;\r\n           }\r\n           h /= 6;\r\n       }\r\n\r\n       return [h, s, l];\r\n    }\r\n\r\n    grayscale() {\r\n      var avg = 0.21 * this.red + 0.72 * this.green + 0.07 * this.blue;\r\n      return this.set(avg, avg, avg);\r\n    }\r\n\r\n    average() {\r\n      var avg = (this.red + this.green + this.blue) / 3;\r\n      return this.set(avg, avg, avg);\r\n    }\r\n\r\n    lightnessAverage() {\r\n      var args = [this.red, this.green, this.blue];\r\n      var avg =  (Math.max(...args) + Math.min(...args)) / 2;\r\n      return this.set(avg, avg, avg);\r\n    }\r\n\r\n    invert(alpha=false) {\r\n      var a = alpha ? 255 - this.alpha : this.alpha;\r\n      return this.set(255 - this.red, 255 - this.green, 255 - this.blue, a);\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n","\r\nne.Pixmap = (function () {\r\n\r\n  return class Pixmal {\r\n\r\n    constructor(width=1, height=1) {\r\n      this._canvas  = document.createElement('canvas');\r\n      this._context = this._canvas.getContext('2d');\r\n    }\r\n\r\n    static fromImage(img) {\r\n      var pixmap = new Pixmap(img.width, img.height);\r\n      pixmap._bltImage(img, 0, 0, img.width, img.height);\r\n      return pixmap;\r\n    }\r\n\r\n    _bltImage(img, sx=0, sy=0, sw=undefined, sh=undefined, dx=0, dy=0, dw=undefined, dh=undefined) {\r\n      if (typeof sw == 'undefined') sw = img.width;\r\n      if (typeof sh == 'undefined') sh = img.height;\r\n      if (typeof dw == 'undefined') dw = sw;\r\n      if (typeof dh == 'undefined') dh = sh;\r\n      this._context.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh);\r\n      return this;\r\n    }\r\n\r\n    blt(bmp, sx=0, sy=0, sw=undefined, sh=undefined, dx=0, dy=0, dw=undefined, dh=undefined) {\r\n      this._bltImage(bmp._canvas, sx, sy, sw, sh, dx, dy, dw, dh);\r\n      return this;\r\n    }\r\n\r\n    drawLine(from, to, color) {\r\n\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n","\r\nne.Drawable = (function () {\r\n\r\n  return class Drawable {\r\n\r\n    constructor() {\r\n      this._parent = null;\r\n      this.z = 0;\r\n    }\r\n\r\n    get parent() {\r\n      return this._parent;\r\n    }\r\n\r\n    get z() {\r\n      return this._z;\r\n    }\r\n\r\n    set z(value) {\r\n      this._z = value;\r\n      var parent = this.parent;\r\n      if (parent) {\r\n        parent.zUpdate();\r\n      }\r\n    }\r\n\r\n    render(renderer) {\r\n\r\n    }\r\n\r\n    act(delta) {\r\n\r\n    }\r\n\r\n  };\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}