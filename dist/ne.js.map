{"version":3,"file":"ne.js","sources":["ne.js","tools.js","gl.js","Loader.js","Point.js","Color.js","ShaderBase.js","Shader.js","Texture.js","Pixmap.js","Drawable.js","Container.js","Sprite.js","SpriteShader.js"],"names":["window","ne","tools","gl","$","textureFromCanvas","canvas","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","bindBuffer","buffer","data","ARRAY_BUFFER","bufferData","STATIC_DRAW","draw","drawArrays","TRIANGLES","checkShader","shader","success","getShaderParameter","COMPILE_STATUS","log","getShaderInfoLog","e","source","deleteShader","makeShader","type","createShader","shaderSource","compileShader","this","checkProgram","program","getProgramParameter","LINK_STATUS","getProgramInfoLog","makeProgram","vertex","fragment","createProgram","attachShader","linkProgram","Loader","_cache","audio","pixmaps","json","fonts","name","url","clearPixmaps","clearAudio","clearJson","Point","x","arguments","length","undefined","y","z","Color","r","g","b","a","set","alpha","red","green","blue","h","s","max","Math","min","l","d","avg","args","_Math","apply","_Math2","_r","value","_g","_b","_a","toHsl","hsla","toHsla","c","fromHsla","hue","saturation","luminance","p","q","t","_hue2rgb","round","rgba","rgb","argb","_hsla","_hslToRgb","hsl","_hsl","ShaderBase","initMembers","_glProgram","_glVertex","_glFragment","_glAttributes","_glUniforms","generateVertexShader","generateFragmentShader","generateProgram","generateVariables","useProgram","generateAttributes","generateUniforms","attributes","Object","keys","forEach","attr","_this","getAttribLocation","uniforms","u","_this2","getUniformLocation","destroyVertexShader","destroyFragmentShader","destroyProgram","detachShader","destroyShader","VERTEX_SHADER","vertexSource","destroy","FRAGMENT_SHADER","fragmentSource","vertexHeader","mainFunction","fragmentHeader","precision","attributeSource","uniformSource","varyingSource","kind","list","result","hasOwnProperty","_this3","updateAttribute","location","enableVertexAttribArray","vertexAttribPointer","FLOAT","sourceFromObject","varying","code","Shader","_ne$ShaderBase","call","_get","getPrototypeOf","prototype","_values","_defaultSet","i","_getDefaultValue","updateUniforms","Texture","pixmap","_data","Float32Array","_pixmap","_glTexture","_buffer","_isDirty","destroyTexture","regenerateTexture","regenerateBuffer","generateTexture","generateBuffer","destroyBuffer","createBuffer","rect","refreshData","x1","clamp","width","y1","height","x2","y2","Pixmap","_canvas","document","createElement","_context","getContext","img","sx","sy","sw","sh","dx","dy","dw","dh","drawImage","bmp","_bltImage","from","to","color","Drawable","_parent","_events","delta","event","_ensureEventType","_step","_iterator","Symbol","iterator","_iteratorNormalCompletion","next","done","callback","push","index","indexOf","splice","_z","parent","zUpdate","Container","_ne$Drawable","_children","_zRefresh","_refreshZ","_makeChildrenAct","_renderChildren","children","sort","child","act","render","contains","j","Sprite","position","scale","offset","SpriteShader","_ne$Shader","a_position"],"mappings":"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","sourcesContent":["window.ne = {};\r\n","window.ne.tools = {};\r\n","\r\nne.tools.gl = (function () {\r\n\r\n  var $ = {};\r\n\r\n  $.textureFromCanvas = function (gl, canvas) {\r\n    var texture = gl.createTexture();\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, canvas);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n    return texture;\r\n  }\r\n\r\n  $.bindTexture = function (gl, texture) {\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n  }\r\n\r\n  $.bindBuffer = function (gl, buffer, data) {\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\r\n  }\r\n\r\n  $.draw = function () {\r\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\r\n  }\r\n\r\n  $.checkShader = function (gl, shader) {\r\n    var success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n    if (!success) {\r\n      let log = gl.getShaderInfoLog(shader);\r\n      let e = \"Could not compile shader:\" + log + \".\\nSource was:\\n\" + source;\r\n      gl.deleteShader(shader);\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  $.makeShader = function (gl, type, source) {\r\n    var shader = gl.createShader(type);\r\n    gl.shaderSource(shader, source);\r\n    gl.compileShader(shader);\r\n    this.checkShader(gl, shader);\r\n    return shader;\r\n  }\r\n\r\n  $.checkProgram = function (gl, program) {\r\n    var success = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n    if (!success) {\r\n      throw (\"program failed to link:\" + gl.getProgramInfoLog (program));\r\n    }\r\n  }\r\n\r\n  $.makeProgram = function (gl, vertex, fragment) {\r\n    var program = gl.createProgram();\r\n    gl.attachShader(program, vertex);\r\n    gl.attachShader(program, fragment);\r\n    gl.linkProgram(program);\r\n    this.checkProgram(gl, program);\r\n    return program;\r\n  }\r\n\r\n  return $;\r\n\r\n})();\r\n","\r\nne.Loader = (function () {\r\n\r\n  var _cache = {\r\n    audio:    {},\r\n    pixmaps:  {},\r\n    json:     {},\r\n    fonts:    {}\r\n  };\r\n\r\n  return class Loader {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    loadPixmaps(name, url) {\r\n      if (typeof _cache.pixmaps[name] == 'undefined') {\r\n\r\n      }\r\n      return this;\r\n    }\r\n\r\n    loadAudio(name, url) {\r\n      if (typeof _cache.audio[name] == 'undefined') {\r\n\r\n      }\r\n      return this;\r\n    }\r\n\r\n    loadJson(name, url) {\r\n      if (typeof _cache.json[name] == 'undefined') {\r\n\r\n      }\r\n      return this;\r\n    }\r\n\r\n    loadFont(name, url) {\r\n      if (typeof _cache.fonts[name] == 'undefined') {\r\n\r\n      }\r\n      return this;\r\n    }\r\n\r\n    pixmap(name) {\r\n\r\n    }\r\n\r\n    audio(name) {\r\n\r\n    }\r\n\r\n    json(name) {\r\n\r\n    }\r\n\r\n    font(name) {\r\n\r\n    }\r\n\r\n    static clear() {\r\n      this.clearPixmaps();\r\n      this.clearAudio();\r\n      this.clearJson();\r\n    }\r\n\r\n    static clearPixmaps() {\r\n\r\n    }\r\n\r\n    static clearAudio() {\r\n\r\n    }\r\n\r\n    static clearJson() {\r\n\r\n    }\r\n\r\n  };\r\n\r\n})();\r\n","ne.Point = (function () {\r\n\r\n  return class Point {\r\n\r\n    constructor(x=0, y=0, z=null) {\r\n      this.x = x;\r\n      this.y = y;\r\n      this.z = z;\r\n    }\r\n\r\n    set(x, y, z=undefined) {\r\n      this.x = x;\r\n      this.y = y;\r\n      this.z = typeof z == 'undefined' ? z : this.z;\r\n    }\r\n\r\n    get dimensions() {\r\n      return z === null ? 2 : 3;\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n","\r\nne.Color = (function () {\r\n\r\n  return class Color {\r\n\r\n    constructor(r, g, b, a=255) {\r\n      this.set(r, g, b, a);\r\n    }\r\n\r\n    static _hue2rgb(p, q, t){\r\n        if(t < 0) t += 1;\r\n        if(t > 1) t -= 1;\r\n        if(t < 1/6) return p + (q - p) * 6 * t;\r\n        if(t < 1/2) return q;\r\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n        return p;\r\n    }\r\n\r\n    static _hslToRgb(h, s, l, a) {\r\n      var r, g, b;\r\n\r\n      if(s == 0){\r\n        r = g = b = l; // achromatic\r\n      } else {\r\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = this._hue2rgb(p, q, h + 1/3);\r\n        g = this._hue2rgb(p, q, h);\r\n        b = this._hue2rgb(p, q, h - 1/3);\r\n      }\r\n      return new Color(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), a);\r\n    }\r\n\r\n    static fromRgba(rgba) {\r\n      var r = (rgba >> 24) && 0xFF;\r\n      var g = (rgba >> 16) && 0xFF;\r\n      var b = (rgba >>  8) && 0xFF;\r\n      var a = (rgba >>  0) && 0xFF;\r\n      return new Color(r, g, b, a);\r\n    }\r\n\r\n    static fromRgb(rgb) {\r\n      var r = (rgba >> 16) && 0xFF;\r\n      var g = (rgba >>  8) && 0xFF;\r\n      var b = (rgba >>  0) && 0xFF;\r\n      return new Color(r, g, b);\r\n    }\r\n\r\n    static fromArgb(argb) {\r\n      var a = (rgba >> 24) && 0xFF;\r\n      var r = (rgba >> 16) && 0xFF;\r\n      var g = (rgba >>  8) && 0xFF;\r\n      var b = (rgba >>  0) && 0xFF;\r\n      return new Color(r, g, b, a);\r\n    }\r\n\r\n    static fromHsla(hsla) {\r\n      var [h, s, l, a] = hsla;\r\n      return this._hslToRgb(h, s, l, a);\r\n    }\r\n\r\n    static fromHsl(hsl) {\r\n      var [h, s, l] = hsl;\r\n      return this._hslToRgb(h, s, l, 255);\r\n    }\r\n\r\n    set(r, g, b, a=undefined) {\r\n      if (typeof a == 'undefined') a = this.alpha;\r\n      this.red = r;\r\n      this.green = g;\r\n      this.blue = b;\r\n      this.alpha = a;\r\n      return this;\r\n    }\r\n\r\n    clone() {\r\n      return new Color(this.red, this.green, this.blue, this.alpha);\r\n    }\r\n\r\n    get red() {\r\n      return this._r;\r\n    }\r\n\r\n    get green() {\r\n      return this._g;\r\n    }\r\n\r\n    get blue() {\r\n      return this._b;\r\n    }\r\n\r\n    get alpha() {\r\n      return this._a;\r\n    }\r\n\r\n    set red(value) {\r\n      this._r = Math.max(0, Math.min(255, value));\r\n    }\r\n\r\n    set green(value) {\r\n      this._g = Math.max(0, Math.min(255, value));\r\n    }\r\n\r\n    set blue(value) {\r\n      this._b = Math.max(0, Math.min(255, value));\r\n    }\r\n\r\n    set alpha(value) {\r\n      this._a = Math.max(0, Math.min(255, value));\r\n    }\r\n\r\n    get r() {\r\n      return this.red;\r\n    }\r\n\r\n    get g() {\r\n      return this.green;\r\n    }\r\n\r\n    get b() {\r\n      return this.blue;\r\n    }\r\n\r\n    get a() {\r\n      this.alpha;\r\n    }\r\n\r\n    set r(value) {\r\n      this.red = value;\r\n    }\r\n\r\n    set g(value) {\r\n      this.green = value;\r\n    }\r\n\r\n    set b(value) {\r\n      this.blue = value;\r\n    }\r\n\r\n    set a(value) {\r\n      this.alpha = value;\r\n    }\r\n\r\n    get hue() {\r\n      return this.toHsl()[0];\r\n    }\r\n\r\n    set hue(value) {\r\n      var hsla = this.toHsla();\r\n      hsla[0] = value;\r\n      var c = Color.fromHsla(hsla);\r\n      this.set(c.red, c.green, c.blue, c.alpha);\r\n    }\r\n\r\n    get saturation() {\r\n      return this.toHsl()[1];\r\n    }\r\n\r\n    set saturation(value) {\r\n      var hsla = this.toHsla();\r\n      hsla[1] = value;\r\n      var c = Color.fromHsla(hsla);\r\n      this.set(c.red, c.green, c.blue, c.alpha);\r\n    }\r\n\r\n    get luminance() {\r\n      return this.toHsl()[2];\r\n    }\r\n\r\n    set luminance(value) {\r\n      var hsla = this.toHsla();\r\n      hsla[2] = value;\r\n      var c = Color.fromHsla(hsla);\r\n      this.set(c.red, c.green, c.blue, c.alpha);\r\n    }\r\n\r\n    get h() {\r\n      return this.hue;\r\n    }\r\n\r\n    set h(value) {\r\n      this.hue = value;\r\n    }\r\n\r\n    get s() {\r\n      return this.saturation;\r\n    }\r\n\r\n    set s(value) {\r\n      this.saturation = value;\r\n    }\r\n\r\n    get l() {\r\n      return this.luminance;\r\n    }\r\n\r\n    set l(value) {\r\n      this.luminance = value;\r\n    }\r\n\r\n    toCss() {\r\n      var a = this.alpha / 255;\r\n      return `rgba(${this.red}, ${this.green}, ${this.blue}, ${a})`;\r\n    }\r\n\r\n    toArgb() {\r\n      return this.alpha << 24 + this.red << 16 + this.green << 8 + this.blue;\r\n    }\r\n\r\n    toRgba() {\r\n      return this.red << 24 + this.green << 16 + this.blue << 8 + this.alpha;\r\n    }\r\n\r\n    toRgb() {\r\n      return this.red << 16 + this.green << 8 + this.blue;\r\n    }\r\n\r\n    toHsla() {\r\n       var r = this.red / 255, g = this.green / 255, b = this.blue / 255;\r\n       var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n       var h, s, l = (max + min) / 2;\r\n\r\n       if(max == min){\r\n           h = s = 0; // achromatic\r\n       }else{\r\n           var d = max - min;\r\n           s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n           switch(max){\r\n               case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n               case g: h = (b - r) / d + 2; break;\r\n               case b: h = (r - g) / d + 4; break;\r\n           }\r\n           h /= 6;\r\n       }\r\n\r\n       return [h, s, l, this.alpha];\r\n    }\r\n\r\n    toHsl() {\r\n       var r = this.red / 255, g = this.green / 255, b = this.blue / 255;\r\n       var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n       var h, s, l = (max + min) / 2;\r\n\r\n       if(max == min){\r\n           h = s = 0; // achromatic\r\n       }else{\r\n           var d = max - min;\r\n           s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n           switch(max){\r\n               case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n               case g: h = (b - r) / d + 2; break;\r\n               case b: h = (r - g) / d + 4; break;\r\n           }\r\n           h /= 6;\r\n       }\r\n\r\n       return [h, s, l];\r\n    }\r\n\r\n    grayscale() {\r\n      var avg = 0.21 * this.red + 0.72 * this.green + 0.07 * this.blue;\r\n      return this.set(avg, avg, avg);\r\n    }\r\n\r\n    average() {\r\n      var avg = (this.red + this.green + this.blue) / 3;\r\n      return this.set(avg, avg, avg);\r\n    }\r\n\r\n    lightnessAverage() {\r\n      var args = [this.red, this.green, this.blue];\r\n      var avg =  (Math.max(...args) + Math.min(...args)) / 2;\r\n      return this.set(avg, avg, avg);\r\n    }\r\n\r\n    invert(alpha=false) {\r\n      var a = alpha ? 255 - this.alpha : this.alpha;\r\n      return this.set(255 - this.red, 255 - this.green, 255 - this.blue, a);\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n","ne.ShaderBase = (function () {\r\n\r\n  return class ShaderBase {\r\n    constructor() {\r\n      this.initMembers();\r\n    }\r\n\r\n    initMembers() {\r\n      this._glProgram = null;\r\n      this._glVertex = null;\r\n      this._glFragment = null;\r\n      this._glAttributes = {};\r\n      this._glUniforms   = {};\r\n    }\r\n\r\n    vertex() {\r\n      return \"\";\r\n    }\r\n\r\n    fragment() {\r\n      return \"\";\r\n    }\r\n\r\n    attributes() {\r\n      return {};\r\n    }\r\n\r\n    uniforms() {\r\n      return {};\r\n    }\r\n\r\n    varying() {\r\n      return {};\r\n    }\r\n\r\n    generate(gl) {\r\n      if (!this._glProgram) {\r\n        this.generateVertexShader(gl);\r\n        this.generateFragmentShader(gl);\r\n        this.generateProgram(gl);\r\n        this.generateVariables(gl);\r\n      }\r\n      return this._glProgram;\r\n    }\r\n\r\n    use(gl) {\r\n      gl.useProgram(this._glProgram);\r\n    }\r\n\r\n    generateVariables(gl) {\r\n      this.generateAttributes(gl);\r\n      this.generateUniforms(gl);\r\n    }\r\n\r\n    generateAttributes(gl) {\r\n      var attributes = this.attributes();\r\n      Object.keys(attributes).forEach( (attr) => {\r\n        this._glAttributes[attr] = gl.getAttribLocation(this._glProgram, attr);\r\n      } );\r\n    }\r\n\r\n    generateUniforms(gl) {\r\n      var uniforms = this.attributes();\r\n      Object.keys(uniforms).forEach( (u) => {\r\n        this._glUniforms[u] = gl.getUniformLocation(this._glProgram, u);\r\n      } );\r\n    }\r\n\r\n    destroy(gl) {\r\n      this.destroyVertexShader(gl);\r\n      this.destroyFragmentShader(gl);\r\n      this.destroyProgram(gl);\r\n    }\r\n\r\n    destroyVertexShader(gl) {\r\n      if (this._glVertex) {\r\n        if (this._glProgram) {\r\n          gl.detachShader(this._glProgram, this._glVertex);\r\n          gl.destroyShader(this._glVertex);\r\n        }\r\n        this._glVertex = null;\r\n      }\r\n    }\r\n\r\n    destroyFragmentShader(gl) {\r\n      if (this._glFragment) {\r\n        if (this._glProgram) {\r\n          gl.detachShader(this._glProgram, this._glFragment);\r\n          gl.destroyShader(this._glFragment);\r\n        }\r\n        this._glVertex = null;\r\n      }\r\n    }\r\n\r\n    destroyProgram(gl) {\r\n      if (this._glProgram) {\r\n        gl.destroyProgram(this._glProgram);\r\n        this._glProgram = null;\r\n      }\r\n    }\r\n\r\n    generateVertexShader(gl) {\r\n      try {\r\n        this._glVertex = ne.tools.gl.makeShader(gl, gl.VERTEX_SHADER, this.vertexSource());\r\n      } catch (e) {\r\n        this.destroy(gl);\r\n        throw e;\r\n      }\r\n    }\r\n\r\n    generateFragmentShader(gl) {\r\n      try {\r\n        this._glFragment = ne.tools.gl.makeShader(gl, gl.FRAGMENT_SHADER, this.fragmentSource());\r\n      } catch (e) {\r\n        this.destroy(gl);\r\n        throw e;\r\n      }\r\n    }\r\n\r\n    vertexSource() {\r\n      return this.vertexHeader() + this.mainFunction(this.vertex());\r\n    }\r\n\r\n    fragmentSource() {\r\n      return this.fragmentHeader() + this.mainFunction(this.fragment());\r\n    }\r\n\r\n    generateProgram(gl) {\r\n      try {\r\n        this._glProgram = ne.tools.gl.generateProgram(gl, this._glVertex, this._glFragment);\r\n      } catch (e) {\r\n        this.destroy(gl);\r\n        throw e;\r\n      }\r\n    }\r\n\r\n    vertexHeader() {\r\n      return this.precision() + this.attributeSource() + this.uniformSource() + this.varyingSource();\r\n    }\r\n\r\n    fragmentHeader() {\r\n      return this.precision() + this.uniformSource() + this.varyingSource();\r\n    }\r\n\r\n    sourceFromObject(kind, list) {\r\n      var result = '';\r\n      for (var a in list) {\r\n        if (list.hasOwnProperty(a)) {\r\n          let type = list[a];\r\n          result += `${kind} ${type} ${a};`;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    updateAttributes(gl) {\r\n      Object.keys(this._glAttributes).forEach( (name) => {\r\n        this.updateAttribute(gl, name);\r\n      });\r\n    }\r\n\r\n    updateAttribute(gl, name) {\r\n      var location = this._glAttributes[name];\r\n      if (location) {\r\n        gl.enableVertexAttribArray(location);\r\n        gl.vertexAttribPointer(location, 2, gl.FLOAT, false, 0, 0);        \r\n      }\r\n    }\r\n\r\n    attributeSource() {\r\n      return this.sourceFromObject('attribute', this.attributes());\r\n    }\r\n\r\n    uniformSource() {\r\n      return this.sourceFromObject('uniform', this.uniforms());\r\n    }\r\n\r\n    varyingSource() {\r\n      return this.sourceFromObject('varying', this.varying());\r\n    }\r\n\r\n    precision() {\r\n      return 'precision mediump float;';\r\n    }\r\n\r\n    mainFunction(code) {\r\n      return `void main(void) { ${code} }`;\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n","ne.Shader = (function () {\r\n\r\n  return class Shader extends ne.ShaderBase {\r\n\r\n    constructor() {\r\n      super();\r\n    }\r\n\r\n    initMembers() {\r\n      super.initMembers();\r\n      this._values = this._defaultSet(this.uniforms());\r\n    }\r\n\r\n    get uniformValues() {\r\n      return this._values;\r\n    }\r\n\r\n    _defaultSet(set) {\r\n      var result = {};\r\n      Object.keys(set).forEach((i) => {\r\n        result[i] = this._getDefaultValue(set[i]);\r\n      });\r\n      return result;\r\n    }\r\n\r\n    _getDefaultValue(type) {\r\n      switch (type) {\r\n        case 'vec2': return new ne.Point(0, 0);\r\n        case 'vec3': return new ne.Point(0, 0, 0);\r\n        case 'vec4': return [0, 0, 0, 0];\r\n        default:     return 0;\r\n      }\r\n    }\r\n\r\n    update(gl) {\r\n      this.updateUniforms(gl);\r\n    }\r\n\r\n    updateUniforms(gl) {\r\n\r\n    }\r\n\r\n  };\r\n\r\n})();\r\n","ne.Texture = (function () {\r\n\r\n  return class Texture {\r\n\r\n    constructor(pixmap) {\r\n      this._data = new Float32Array([\r\n        0.0,  0.0,     1.0,  0.0,\r\n        0.0,  1.0,     0.0,  1.0,\r\n        1.0,  0.0,     1.0,  1.0\r\n      ]);\r\n      this._pixmap = pixmap;\r\n      this._glTexture = null;\r\n      this._buffer = null;\r\n      this._isDirty = false;\r\n    }\r\n\r\n    generate(gl) {\r\n      if (this._isDirty) {\r\n        this._isDirty = false;\r\n        this.destroyTexture();\r\n      }\r\n      this.regenerateTexture(gl);\r\n      this.regenerateBuffer(gl);\r\n      return this._glTexture;\r\n    }\r\n\r\n    update() {\r\n      this._isDirty = true;\r\n    }\r\n\r\n    regenerateTexture(gl) {\r\n      if (!this._glTexture) {\r\n        this.generateTexture(gl);\r\n      }\r\n    }\r\n\r\n    regenerateBuffer(gl) {\r\n      if (!this._buffer) {\r\n        this.generateBuffer(gl);\r\n      }\r\n    }\r\n\r\n    destroy(gl) {\r\n      this.destroyTexture(gl);\r\n      this.destroyBuffer(gl);\r\n    }\r\n\r\n    destroyTexture(gl) {\r\n      if (this._glTexture) {\r\n        gl.destroyTexture(gl);\r\n        this._glTexture = null;\r\n      }\r\n    }\r\n\r\n    destroyBuffer(gl) {\r\n      if (this._buffer) {\r\n        gl.destroyBuffer(this._buffer);\r\n        this._buffer = null;\r\n      }\r\n    }\r\n\r\n    generateBuffer(gl) {\r\n      this._buffer = gl.createBuffer();\r\n    }\r\n\r\n    generateTexture(gl) {\r\n      this._glTexture = this._pixmap.generateTexture(gl);\r\n    }\r\n\r\n    bind(gl, rect) {\r\n      this.bindBuffer(gl, rect);\r\n      this.bindTexture(gl);\r\n    }\r\n\r\n    bindBuffer(gl, rect) {\r\n      this.refreshData(rect);\r\n      ne.tools.gl.bindBuffer(gl, this._buffer, this._data);\r\n    }\r\n\r\n    refreshData(rect) {\r\n      var x1 = this.clamp(       rect.x           / this._pixmap.width );\r\n      var y1 = this.clamp(       rect.y           / this._pixmap.height );\r\n      var x2 = this.clamp( (rect.x + rect.width)  / this._pixmap.width );\r\n      var y2 = this.clamp( (rect.y + rect.height) / this._pixmap.height );\r\n      this._data[0] = this._data[4] = this._data[ 6] = x1;\r\n      this._data[1] = this._data[3] = this._data[ 9] = y1;\r\n      this._data[2] = this._data[8] = this._data[10] = x2;\r\n      this._data[5] = this._data[7] = this._data[11] = y2;\r\n    }\r\n\r\n    clamp(value) {\r\n      return Math.max(0,  Math.min(1, value));\r\n    }\r\n\r\n    bindTexture(gl) {\r\n      ne.tools.gl.bindTexture(gl, this._glTexture);\r\n    }\r\n\r\n  };\r\n\r\n})();\r\n","\r\nne.Pixmap = (function () {\r\n\r\n  return class Pixmap {\r\n\r\n    constructor(width=1, height=1) {\r\n      this._canvas  = document.createElement('canvas');\r\n      this._canvas.width = width;\r\n      this._canvas.height = height;\r\n      this._context = this._canvas.getContext('2d');\r\n    }\r\n\r\n    static fromImage(img) {\r\n      var pixmap = new Pixmap(img.width, img.height);\r\n      pixmap._bltImage(img, 0, 0, img.width, img.height);\r\n      return pixmap;\r\n    }\r\n\r\n    _bltImage(img, sx=0, sy=0, sw=undefined, sh=undefined, dx=0, dy=0, dw=undefined, dh=undefined) {\r\n      if (typeof sw == 'undefined') sw = img.width;\r\n      if (typeof sh == 'undefined') sh = img.height;\r\n      if (typeof dw == 'undefined') dw = sw;\r\n      if (typeof dh == 'undefined') dh = sh;\r\n      this._context.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh);\r\n      return this;\r\n    }\r\n\r\n    blt(bmp, sx=0, sy=0, sw=undefined, sh=undefined, dx=0, dy=0, dw=undefined, dh=undefined) {\r\n      this._bltImage(bmp._canvas, sx, sy, sw, sh, dx, dy, dw, dh);\r\n      return this;\r\n    }\r\n\r\n    drawLine(from, to, color) {\r\n\r\n    }\r\n\r\n    generateTexture(gl) {\r\n      return ne.tools.gl.textureFromCanvas(gl, this._canvas);\r\n    }\r\n\r\n    get width() {\r\n      return this._canvas.width;\r\n    }\r\n\r\n    get height() {\r\n      return this._canvas.height;\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n","\r\nne.Drawable = (function () {\r\n\r\n  return class Drawable {\r\n\r\n    constructor() {\r\n      this._parent = null;\r\n      this._events = {};\r\n      this.z = 0;\r\n    }\r\n\r\n    get parent() {\r\n      return this._parent;\r\n    }\r\n\r\n    get z() {\r\n      return this._z;\r\n    }\r\n\r\n    set z(value) {\r\n      this._z = value;\r\n      var parent = this.parent;\r\n      if (parent) {\r\n        parent.zUpdate();\r\n      }\r\n    }\r\n\r\n    render(gl) {\r\n\r\n    }\r\n\r\n    act(delta) {\r\n\r\n    }\r\n\r\n    fire(name, event={}) {\r\n      this._ensureEventType(name);\r\n      var result = true;\r\n      for (let callback of this._events[name]) {\r\n        let i = callback(event);\r\n        if ( (typeof i != 'undefined') && (i === false) ) {\r\n          result = false;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    on(name, callback) {\r\n      this._ensureEventType(name);\r\n      this._events[name].push(callback);\r\n    }\r\n\r\n    off(name, callback=null) {\r\n      if (callback === null) {\r\n        this._events[name] = [];\r\n        return;\r\n      }\r\n      this._ensureEventType(name);\r\n      var index = this._events[name].indexOf(callback);\r\n      if (index !== -1) {\r\n        this._events[name].splice(index, 1);\r\n      }\r\n    }\r\n\r\n    _ensureEventType(name) {\r\n      if (typeof this._events[name] == 'undefined') {\r\n        this._events[name] = [];\r\n      }\r\n    }\r\n\r\n\r\n  };\r\n\r\n})();\r\n","\r\nne.Container = (function () {\r\n\r\n  return class Container extends ne.Drawable {\r\n\r\n    constructor() {\r\n      super();\r\n      this._children = [];\r\n      this._zRefresh = false;\r\n    }\r\n\r\n    get children() {\r\n      return this._children;\r\n    }\r\n\r\n    act(delta) {\r\n      this._refreshZ();\r\n      this._makeChildrenAct(delta);\r\n    }\r\n\r\n    render(gl) {\r\n      this._renderChildren(gl);\r\n    }\r\n\r\n    zUpdate() {\r\n      this._zRefresh = true;\r\n    }\r\n\r\n    _refreshZ() {\r\n      if (this._zRefresh) {\r\n        this.children.sort( (a, b) => a.z - b.z );\r\n        this._zRefresh = false;\r\n      }\r\n    }\r\n\r\n    _makeChildrenAct(delta) {\r\n      this.children.forEach( (child) => child.act(delta) );\r\n    }\r\n\r\n    _renderChildren(gl) {\r\n      this.children.forEach( (child) => child.render(gl) );\r\n    }\r\n\r\n    add(child) {\r\n      if ( !this.contains(child) ) {\r\n        this.children.push(child);\r\n        this.zUpdate();\r\n      }\r\n    }\r\n\r\n    remove(child) {\r\n      var index = this.indexOf(child);\r\n      if ( index !== -1 ) {\r\n        this.children.splice(index, 1);\r\n      }\r\n    }\r\n\r\n    indexOf(child) {\r\n      return this.children.indexOf(child);\r\n    }\r\n\r\n    clear() {\r\n      this.children = [];\r\n    }\r\n\r\n    swap(a, b) {\r\n      var i = this.indexOf(a);\r\n      var j = this.indexOf(b);\r\n      if (i !== -1 && j !== -1) {\r\n        let z = a.z;\r\n        a.z = b.z;\r\n        b.z = z;\r\n      }\r\n    }\r\n\r\n    contains(child) {\r\n      return (this.indexOf(child) !== -1);\r\n    }\r\n\r\n  }\r\n})();\r\n","ne.Sprite = (function () {\r\n\r\n  return class Sprite extends ne.Drawable {\r\n\r\n    constructor() {\r\n      super();\r\n      this.position = new ne.Point();\r\n      this.scale    = new ne.Point(1, 1);\r\n      this.offset   = new ne.Point();\r\n      this.shader   = new ne.SpriteShader();\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n","ne.SpriteShader = (function () {\r\n\r\n  return class SpriteShader extends ne.Shader {\r\n\r\n    vertex() {\r\n      return \"gl_Position = vec4(a_position, 0, 1);\";\r\n    }\r\n\r\n    fragment() {\r\n      return \"gl_FragColor = vec4(0, 1, 0, 1);\";\r\n    }\r\n\r\n    attributes() {\r\n      return {\r\n        a_position: 'vec2'\r\n      };\r\n    }\r\n\r\n    uniforms() {\r\n      return {};\r\n    }\r\n\r\n    varying() {\r\n      return {};\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}